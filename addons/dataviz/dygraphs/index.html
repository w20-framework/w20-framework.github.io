<!DOCTYPE html>
<html lang="en">
<head>
    


<title>
    Dygraphs
</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,700,300,400" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Bitter:700" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<link rel="stylesheet" href="/assets/unify/css/style.css">
<link rel="stylesheet" href="/assets/unify/plugins/font-awesome/css/font-awesome.css">
<link rel="stylesheet" href="/css/style.css">



<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TLF968Z');</script>



<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "SoftwareApplication",
  "name" : "W20 framework",
  "publisher" : {
    "@type" : "Organization",
    "name" : "Open-Source Software"
  },
  "applicationCategory" : "web framework"
}
</script>



<meta property="og:title" content="Dygraphs" />
<meta property="og:description" content="Dygraphs is a fast charting library that allows users to explore large data sets. It plots data series as lines. The W20 integration provides an AngularJS directive augmented with an option to load down-sampled data while zooming.
Live demo  Dygraphs Installation See the installation of the Dataviz addon in the basics section
Configuration Declare the dygraphs module in the modules section of the dataviz fragment
&quot;w20-dataviz&quot;: { &quot;modules&quot;: { &quot;dygraphs&quot;: {} } }  Directive Below you can find an example of a dygrah declaration with all its attributes:" />
<meta property="og:url" content="http://w20-framework.github.io/addons/dataviz/dygraphs/" />
<meta property="og:site_name" content="W20 framework" />
<meta property="og:image" content="http://w20-framework.github.io/img/opengraph-default.png" />



<link rel="search" type="application/opensearchdescription+xml" href="http://w20-framework.github.io/opensearch.xml" title="W20 framework" />



<script type="text/javascript">
    window.w20 = {
        state: {}
    };
</script>


</head>
<body>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TLF968Z"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<div id="header">
    <div class="header">
    <div class="container">
        <a class="logo" href="/">W20 framework</a>
        <div class="topbar hidden-xs hidden-sm">
            <ul class="loginbar pull-right">
                <li><i class="fa fa-stack-overflow"></i> <a target="_blank" href="http://stackoverflow.com/questions/ask?tags=w20">Ask a question</a></li>
                <li class="topbar-devider"></li>
                <li><i class="fa fa-github"></i> <a target="_blank" href="https://github.com/w20-framework">GitHub</a></li>
            </ul>
        </div>
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="fa fa-bars"></span>
        </button>
    </div>
    <div class="collapse navbar-collapse navbar-responsive-collapse" data-role="navigation" style="pointer-events: none;">
        <div class="container">
            <ul class="nav navbar-nav" style="pointer-events: auto;">
                <li>
                    <a href="/docs">Documentation</a>
                </li>
                <li>
                    <a href="/addons">Add-ons</a>
                </li>
                <li>
                    <a href="/themes">Themes</a>
                </li>
                <li>
                    <a href="/posts">Blog</a>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown">
                        More
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="/project/community">Community</a></li>
                        <li><a href="/project/roadmap">Roadmap</a></li>
                        <li><a href="/project/faq">FAQ</a></li>
                        <li><a href="/tags">Tags</a></li>
                    </ul>
                </li>
                <li>
                    <i class="search fa fa-search search-btn"></i>
                    <div class="search-open">
                        <form method="GET" action="/search">
                            <div class="input-group animated fadeInDown">
                                <input id="search-field" type="text" class="form-control" placeholder="Search" name="q">
                                <span class="input-group-btn">
                                    <button class="btn-u" type="submit">Go</button>
                                </span>
                            </div>
                        </form>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

    <div class="title-header small">
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-sm-12">
                <h2>Add-ons</h2>
                <p class="hidden-xs">Extend W20 framework capabilities with the add-ons below.</p>
            </div>
            <div class="col-md-3 hidden-sm hidden-xs">
                <div class="header-image-wrapper">
                    <img class="header-image" src="/img/logos/addons-logo.svg">
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="title-subheader">
        <div class="container">
            <ul>
                <li><h3><i class="fa fa-list"></i> <a href="/addons">All add-ons</a></h3></li>
                <li><h3 class="active"><i class="fa fa-plug"></i> <a href="">W20 dataviz add-on</a></h3></li>
            </ul>
        </div>
    </div>
</div>
<div id="content" class="container">
    <div class="row">
    <div class="col-md-9">
        <div class="content-wrapper">
            <div class="doc-content">
                

<p><a href="http://dygraphs.com/">Dygraphs</a> is a fast charting library that allows users to explore large data sets. It plots data series as lines.
The W20 integration provides an AngularJS directive augmented with an option to load down-sampled data while zooming.</p>

<div class="margin-top-20 margin-bottom-20">
    <a href='http://w20-framework.github.io/w20-dataviz' class="btn btn-u">Live demo</a>
</div>


<h1 id="dygraphs">Dygraphs</h1>

<h2 id="installation">Installation</h2>

<p>See the installation of the Dataviz addon in the <a href="/addons/w20-dataviz/">basics</a> section</p>

<h2 id="configuration">Configuration</h2>

<p>Declare the <code>dygraphs</code> module in the <code>modules</code> section of the dataviz fragment</p>

<pre><code class="language-json">&quot;w20-dataviz&quot;: {
    &quot;modules&quot;: {
        &quot;dygraphs&quot;: {}
    }
}
</code></pre>

<h1 id="directive">Directive</h1>

<p>Below you can find an example of a dygrah declaration with all its attributes:</p>

<pre><code class="language-html">&lt;div w20-dygraph
     data=&quot;data&quot;
     options=&quot;options&quot;
     reference=&quot;reference&quot;
     on-range-change=&quot;change&quot;&gt;
&lt;/div&gt; 
</code></pre>

<h2 id="attributes">Attributes</h2>

<ul>
<li><strong>data</strong>: The initial data to provide to the dygraph. Data format can either be of type <code>string</code> (CSV), <code>array</code> or <code>url</code>. If no data is passed or if the values are empty, the graph will not be instatntiated.</li>
</ul>

<h3 id="string-csv-data-set">String (CSV) data set</h3>

<p>CSV, for Comma Separated Values, is a lightweight data format that can be transmitted as <code>string</code> to the dygraph. It is often used while exporting data from tools like MS Excel for instance. Here is an example of a CVS data set which represents two series of maximum and minimum temperatures during consecutive days of january 2007.</p>

<pre><code>Date,High,Low
20070101,62,39
20070102,62,44
20070103,62,42
20070104,57,45
20070105,54,44
20070106,55,36
20070107,62,45
</code></pre>

<p>The first line is the data set header. Dygraphs will use these information for labelling the axis and series. For each row of data, the first element correspond to the X-axis while the remaining values represents the series value at this abscissa.</p>

<h3 id="raw-data-set">Raw data set</h3>

<p>You can also pass an array of data to the graph instead of a CSV formatted string. Here is the same example as above in raw data format.</p>

<pre><code class="language-json">[
    [20070101,62,39]
    [20070102,62,44]
    [20070103,62,42]
    [20070104,57,45]
    [20070105,54,44]
    [20070106,55,36]
    [20070107,62,45]
]
</code></pre>

<p>The information about series name is lost when using raw data format. Headers for native format must be specified via the <code>labels</code> option (see options attribute).</p>

<h3 id="url">URL</h3>

<p>Alternatively you can use a url as the value of the data attribute. Dygraphs will try to issue a GET request to this url and use the response as the data value. The response should be of one of the aforementioned type.</p>

<ul>
<li><p><strong>options</strong>: This attributes allows you to merge your custom options with the default one provided by the directive. The available options are documented on the dygraphs <a href="http://dygraphs.com/options.html">options</a> page.</p></li>

<li><p><strong>reference</strong>: This attribute establishes a two way data binding between the dygraph instance created in the directive and the reference passed to this attribute.</p></li>
</ul>

<pre><code class="language-html">&lt;div w20-dygraph reference=&quot;myReference&quot; ...&gt;&lt;/div&gt;
</code></pre>

<pre><code class="language-javascript">console.info($scope.myReference instanceof Dygraph); // true
</code></pre>

<p>Please note that data must be passed to the graph before a reference could be created. This means that the reference could be undefined if you try to access it prior to the graph instantiation.</p>

<ul>
<li><strong>on-range-change</strong>: This attribute should receive a function reference which, if defined, will display a range selector below the graph and trigger the function whenever the range changes. See next section for details.</li>
</ul>

<h1 id="server-side-down-sampling">Server side down sampling</h1>

<p>Dygraph can handle large data sets but feeding a massive amount of data to the client still pose a problem in terms of network performance. One technique to avoid this issue is to load a reasonable amount of data points initially and request more data points on the range the user has selected. This behavior can be triggered by declaring the <code>on-range-attribute</code> on the directive element.</p>

<p>Example: Our backend has a REST resource <code>'/data'</code> which returns a data set interval defined by the two query params <code>min</code> and <code>max</code>:</p>

<pre><code class="language-html">&lt;div w20-dygraph
     data=&quot;data&quot;
     options=&quot;options&quot;
     reference=&quot;reference&quot;
     on-range-change=&quot;onRangeChange&quot;&gt;
&lt;/div&gt; 
</code></pre>

<pre><code class="language-javascript">var minValue = 1461327631000, 
    max value = 1461414031000;

$http.get('/data', { params: { min: minValue, max: maxValue })
     .then(function (data) { $scope.data = data; });

$scope.onRangeChange = function (rangeArray, doneCallback) {
    var lowerLimit = rangeArray[0],
        upperLimit = rangeArray[1];

     $http.get('/data', { params: { min: lowerLimit, max: upperLimit })
          .then(function (moreDetailedData) { 
             doneCallback(moreDetailedData);
          });   
}
</code></pre>

<p>We start by requesting the original data set and set our initial <code>$scope.data</code> with the result. As soon as data is available, the directive will create a new Dygraph instance and plot the graph to the div.</p>

<p>When the user interact with the graph through the range selector or by click-moving on the graph canvas, the <code>onRangeChange</code> function is called with two parameters:</p>

<ul>
<li><strong>rangeArray</strong>: An array of length 2 which contains the lower and upper limit selected by the range selector.</li>
<li><strong>doneCallback</strong>: A function callback which must be called with the more fine grained data set for the specific interval.</li>
</ul>

<p>When the <code>doneCallback</code> function is called, the argument it is passed will be merged into the original data set (supplied to $scope.data).</p>

            </div>
        </div>
    </div>
    <div class="col-md-3">
        
<div class="side-menu">
    
        
        <div class="list-group">
            <ul class="nav">
                
                
                
                    
                    <li>
                        <a href="/addons/dataviz/" class="list-group-item ">
                            Basics
                        </a>
                        
                        
                    </li>
                    
                
                    
                    <li>
                        <a href="/addons/dataviz/nvd3/" class="list-group-item ">
                            Nvd3
                        </a>
                        
                        
                    </li>
                    
                
                    
                    <li>
                        <a href="/addons/dataviz/dygraphs/" class="list-group-item  active ">
                            Dygraphs
                        </a>
                        
                        
                            <nav id="TableOfContents">
<ul>
<li><a href="#dygraphs">Dygraphs</a>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#configuration">Configuration</a></li>
</ul></li>
<li><a href="#directive">Directive</a>
<ul>
<li><a href="#attributes">Attributes</a>
<ul>
<li><a href="#string-csv-data-set">String (CSV) data set</a></li>
<li><a href="#raw-data-set">Raw data set</a></li>
<li><a href="#url">URL</a></li>
</ul></li>
</ul></li>
<li><a href="#server-side-down-sampling">Server side down sampling</a></li>
</ul>
</nav>
                            <script>
                                w20.state.previousPage = '\/addons\/dataviz\/nvd3\/';
                            </script>
                            
                        
                    </li>
                    
                
            </ul>
        </div>
        
    
    
    <div class="list-group">
        <ul class="nav">
            <li class="list-group-item"><div style="margin-bottom: 10px;"><i class="fa fa-tag"></i> Tags</div>
                <div class="tags">
                    
                    <a class="label label-default" href="/tags/w20">W20</a>
                    
                    <a class="label label-default" href="/tags/frontend">Frontend</a>
                    
                    <a class="label label-default" href="/tags/chart">Chart</a>
                    
                    <a class="label label-default" href="/tags/plot">Plot</a>
                    
                    <a class="label label-default" href="/tags/linechart">Linechart</a>
                    
                    <a class="label label-default" href="/tags/visualization">Visualization</a>
                    
                    <a class="label label-default" href="/tags/sampling">Sampling</a>
                    
                </div>
            </li>
        </ul>
    </div>
    
    <div class="list-group">
        <ul class="nav">
            
                
            
        </ul>
    </div>
</div>

    </div>
</div>

</div>
<div id="footer">
    <div class="footer-v3">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 md-margin-bottom-40">
                    <div class="headline"><h2>About</h2></div>
                    <p class="margin-bottom-25 md-margin-bottom-40">W20 is a Web framework to create modular and composable enterprise-ready applications.</p>
                </div>

                <div class="col-md-4 md-margin-bottom-40">
                    <div class="posts">
                        <div class="headline"><h2>License</h2></div>
                        <p>
                            Code licensed under the <a href="https://www.mozilla.org/MPL/2.0" target="_blank">Mozilla Public License 2.0</a>.
                            <br/>
                            Documentation licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.
                        </p>
                    </div>
                </div>

                <div class="col-md-4 map-img">
                    <div class="headline"><h2>Contact us</h2></div>
                    <address>
                        <p>
                            StackOverflow <a href="https://stackoverflow.com/questions/tagged/w20">W20 on StackOverflow</a>
                        </p>
                    </address>
                </div>
            </div>
        </div>
    </div>
</div>

</div>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/github.min.css">

<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/mousetrap/1.4.6/mousetrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lunr.js/0.5.9/lunr.min.js"></script>
<script src="/assets/unify/plugins/smoothScroll.js"></script>
<script src="/js/jquery.highlight.js"></script>
<script src="/js/w20.js"></script>
<script>
    $(document).ready(function () {
        var $search = $('.search-btn');

        $('.search').click(function () {
            if ($search.hasClass('fa-search')) {
                w20.ui.openSearch();
            } else {
                w20.ui.closeSearch();
            }
        });

        $('pre code').each(function (i, block) {
            hljs.highlightBlock(block);
        });

        $('.side-menu').affix({
            offset: {
                top: $('#header').height() + 20,
                bottom: $('#footer').height() + 40
            }
        });

        Mousetrap.bind('/', function () {
            w20.ui.openSearch();
            return false;
        });

        Mousetrap.bind('alt+up', function () {
            if (w20.state.previousPage) {
                window.location = w20.state.previousPage;
            }
            return false;
        });

        Mousetrap.bind('alt+down', function () {
            if (w20.state.nextPage) {
                window.location = w20.state.nextPage;
            }
            return false;
        });

        Mousetrap.bind('esc', function () {
            w20.ui.closeSearch();
            return false;
        });

        var originalCallback = Mousetrap.stopCallback;
        Mousetrap.stopCallback = function (e, element, combo) {
            if (combo === 'esc') {
                return false;
            }

            return originalCallback(e, element, combo);
        };

        $('[data-toggle="tooltip"]').tooltip();

        $('#hotkeys-modal, #versions-modal').bind('hidden.bs.modal', function () {
            $("html").css("margin-right", "0px");
        }).bind('show.bs.modal', function () {
            $("html").css("margin-right", "-15px");
        });

        var query = w20.strings.parseQueryString(location);
        if (query.h && query.h.length > 0) {
            $('.doc-content').highlight(query.h);
            if (query.scroll) {
                $('html, body').animate({
                    scrollTop: $('span[class=highlight]:first').offset().top - 20
                }, 250);
            }
        }
    });
</script>


</body>
</html>
